[
  {
    "url": "https://api.github.com/repos/yugabyte/yugabyte-db/issues/10245",
    "repository_url": "https://api.github.com/repos/yugabyte/yugabyte-db",
    "labels_url": "https://api.github.com/repos/yugabyte/yugabyte-db/issues/10245/labels{/name}",
    "comments_url": "https://api.github.com/repos/yugabyte/yugabyte-db/issues/10245/comments",
    "events_url": "https://api.github.com/repos/yugabyte/yugabyte-db/issues/10245/events",
    "html_url": "https://github.com/yugabyte/yugabyte-db/issues/10245",
    "id": 1021378744,
    "node_id": "I_kwDOBlCVUc484QC4",
    "number": 10245,
    "title": "[docdb] Ensure master leader elections complete quickly during tests",
    "user": {
      "login": "robertsami",
      "id": 1457684,
      "node_id": "MDQ6VXNlcjE0NTc2ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1457684?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/robertsami",
      "html_url": "https://github.com/robertsami",
      "followers_url": "https://api.github.com/users/robertsami/followers",
      "following_url": "https://api.github.com/users/robertsami/following{/other_user}",
      "gists_url": "https://api.github.com/users/robertsami/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/robertsami/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/robertsami/subscriptions",
      "organizations_url": "https://api.github.com/users/robertsami/orgs",
      "repos_url": "https://api.github.com/users/robertsami/repos",
      "events_url": "https://api.github.com/users/robertsami/events{/privacy}",
      "received_events_url": "https://api.github.com/users/robertsami/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [

    ],
    "state": "open",
    "locked": false,
    "assignee": {
      "login": "nimwijetunga",
      "id": 22552967,
      "node_id": "MDQ6VXNlcjIyNTUyOTY3",
      "avatar_url": "https://avatars.githubusercontent.com/u/22552967?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nimwijetunga",
      "html_url": "https://github.com/nimwijetunga",
      "followers_url": "https://api.github.com/users/nimwijetunga/followers",
      "following_url": "https://api.github.com/users/nimwijetunga/following{/other_user}",
      "gists_url": "https://api.github.com/users/nimwijetunga/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nimwijetunga/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nimwijetunga/subscriptions",
      "organizations_url": "https://api.github.com/users/nimwijetunga/orgs",
      "repos_url": "https://api.github.com/users/nimwijetunga/repos",
      "events_url": "https://api.github.com/users/nimwijetunga/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nimwijetunga/received_events",
      "type": "User",
      "site_admin": false
    },
    "assignees": [
      {
        "login": "nimwijetunga",
        "id": 22552967,
        "node_id": "MDQ6VXNlcjIyNTUyOTY3",
        "avatar_url": "https://avatars.githubusercontent.com/u/22552967?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/nimwijetunga",
        "html_url": "https://github.com/nimwijetunga",
        "followers_url": "https://api.github.com/users/nimwijetunga/followers",
        "following_url": "https://api.github.com/users/nimwijetunga/following{/other_user}",
        "gists_url": "https://api.github.com/users/nimwijetunga/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/nimwijetunga/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/nimwijetunga/subscriptions",
        "organizations_url": "https://api.github.com/users/nimwijetunga/orgs",
        "repos_url": "https://api.github.com/users/nimwijetunga/repos",
        "events_url": "https://api.github.com/users/nimwijetunga/events{/privacy}",
        "received_events_url": "https://api.github.com/users/nimwijetunga/received_events",
        "type": "User",
        "site_admin": false
      }
    ],
    "milestone": null,
    "comments": 0,
    "created_at": "2021-10-08T18:52:00Z",
    "updated_at": "2021-10-08T18:52:00Z",
    "closed_at": null,
    "author_association": "CONTRIBUTOR",
    "active_lock_reason": null,
    "body": "It seems yb-master raft peers wait for `RaftConsensus::MinimumElectionTimeout()` = 3s to initiate an election. We ought to be able to initiate these elections faster in the case of tests. We have the following code to support this type of behavior, for example:\r\n\r\n```\r\n    ReplicaState::UniqueLock lock;\r\n    RETURN_NOT_OK(state_->LockForConfigChange(&lock));\r\n\r\n    // If this is the first term expire the FD immediately so that we have a fast first\r\n    // election, otherwise we just let the timer expire normally.\r\n    MonoDelta initial_delta = MonoDelta();\r\n    if (state_->GetCurrentTermUnlocked() == 0) {\r\n      // The failure detector is initialized to a low value to trigger an early election\r\n      // (unless someone else requested a vote from us first, which resets the\r\n      // election timer). We do it this way instead of immediately running an\r\n      // election to get a higher likelihood of enough servers being available\r\n      // when the first one attempts an election to avoid multiple election\r\n      // cycles on startup, while keeping that \"waiting period\" random. If there is only one peer,\r\n      // trigger an election right away.\r\n      if (PREDICT_TRUE(FLAGS_enable_leader_failure_detection)) {\r\n        LOG_WITH_PREFIX(INFO) << \"Consensus starting up: Expiring fail detector timer \"\r\n                                 \"to make a prompt election more likely\";\r\n        // Gating quick leader elections on table creation since prompter leader elections are\r\n        // more likely to fail due to uninitialized peers or conflicting elections, which could\r\n        // have unforseen consequences.\r\n        if (FLAGS_quick_leader_election_on_create) {\r\n          initial_delta = (state_->GetCommittedConfigUnlocked().peers_size() == 1) ?\r\n              MonoDelta::kZero :\r\n              MonoDelta::FromMilliseconds(rng_.Uniform(FLAGS_raft_heartbeat_interval_ms));\r\n        }\r\n      }\r\n    }\r\n    RETURN_NOT_OK(BecomeReplicaUnlocked(std::string(), initial_delta));\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/yugabyte/yugabyte-db/issues/10245/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/yugabyte/yugabyte-db/issues/10245/timeline",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/yugabyte/yugabyte-db/issues/10244",
    "repository_url": "https://api.github.com/repos/yugabyte/yugabyte-db",
    "labels_url": "https://api.github.com/repos/yugabyte/yugabyte-db/issues/10244/labels{/name}",
    "comments_url": "https://api.github.com/repos/yugabyte/yugabyte-db/issues/10244/comments",
    "events_url": "https://api.github.com/repos/yugabyte/yugabyte-db/issues/10244/events",
    "html_url": "https://github.com/yugabyte/yugabyte-db/issues/10244",
    "id": 1021354850,
    "node_id": "I_kwDOBlCVUc484KNi",
    "number": 10244,
    "title": "[docdb] Master memory usage optimizations",
    "user": {
      "login": "bmatican",
      "id": 395011,
      "node_id": "MDQ6VXNlcjM5NTAxMQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/395011?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bmatican",
      "html_url": "https://github.com/bmatican",
      "followers_url": "https://api.github.com/users/bmatican/followers",
      "following_url": "https://api.github.com/users/bmatican/following{/other_user}",
      "gists_url": "https://api.github.com/users/bmatican/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bmatican/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bmatican/subscriptions",
      "organizations_url": "https://api.github.com/users/bmatican/orgs",
      "repos_url": "https://api.github.com/users/bmatican/repos",
      "events_url": "https://api.github.com/users/bmatican/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bmatican/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 1290759928,
        "node_id": "MDU6TGFiZWwxMjkwNzU5OTI4",
        "url": "https://api.github.com/repos/yugabyte/yugabyte-db/labels/area/docdb",
        "name": "area/docdb",
        "color": "0c4fcc",
        "default": false,
        "description": "YugabyteDB core features"
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": {
      "login": "bmatican",
      "id": 395011,
      "node_id": "MDQ6VXNlcjM5NTAxMQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/395011?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bmatican",
      "html_url": "https://github.com/bmatican",
      "followers_url": "https://api.github.com/users/bmatican/followers",
      "following_url": "https://api.github.com/users/bmatican/following{/other_user}",
      "gists_url": "https://api.github.com/users/bmatican/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bmatican/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bmatican/subscriptions",
      "organizations_url": "https://api.github.com/users/bmatican/orgs",
      "repos_url": "https://api.github.com/users/bmatican/repos",
      "events_url": "https://api.github.com/users/bmatican/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bmatican/received_events",
      "type": "User",
      "site_admin": false
    },
    "assignees": [
      {
        "login": "bmatican",
        "id": 395011,
        "node_id": "MDQ6VXNlcjM5NTAxMQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/395011?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bmatican",
        "html_url": "https://github.com/bmatican",
        "followers_url": "https://api.github.com/users/bmatican/followers",
        "following_url": "https://api.github.com/users/bmatican/following{/other_user}",
        "gists_url": "https://api.github.com/users/bmatican/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/bmatican/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/bmatican/subscriptions",
        "organizations_url": "https://api.github.com/users/bmatican/orgs",
        "repos_url": "https://api.github.com/users/bmatican/repos",
        "events_url": "https://api.github.com/users/bmatican/events{/privacy}",
        "received_events_url": "https://api.github.com/users/bmatican/received_events",
        "type": "User",
        "site_admin": false
      }
    ],
    "milestone": null,
    "comments": 0,
    "created_at": "2021-10-08T18:14:40Z",
    "updated_at": "2021-10-08T18:14:40Z",
    "closed_at": null,
    "author_association": "CONTRIBUTOR",
    "active_lock_reason": null,
    "body": "Various tasks that could lower the master memory usage\r\n- #10242\r\n- #10207\r\n- #3745\r\n- #10243",
    "reactions": {
      "url": "https://api.github.com/repos/yugabyte/yugabyte-db/issues/10244/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/yugabyte/yugabyte-db/issues/10244/timeline",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/yugabyte/yugabyte-db/issues/10243",
    "repository_url": "https://api.github.com/repos/yugabyte/yugabyte-db",
    "labels_url": "https://api.github.com/repos/yugabyte/yugabyte-db/issues/10243/labels{/name}",
    "comments_url": "https://api.github.com/repos/yugabyte/yugabyte-db/issues/10243/comments",
    "events_url": "https://api.github.com/repos/yugabyte/yugabyte-db/issues/10243/events",
    "html_url": "https://github.com/yugabyte/yugabyte-db/issues/10243",
    "id": 1021345112,
    "node_id": "I_kwDOBlCVUc484H1Y",
    "number": 10243,
    "title": "[docdb] Add background thread to regularly clear tcmalloc internal caches",
    "user": {
      "login": "bmatican",
      "id": 395011,
      "node_id": "MDQ6VXNlcjM5NTAxMQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/395011?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bmatican",
      "html_url": "https://github.com/bmatican",
      "followers_url": "https://api.github.com/users/bmatican/followers",
      "following_url": "https://api.github.com/users/bmatican/following{/other_user}",
      "gists_url": "https://api.github.com/users/bmatican/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bmatican/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bmatican/subscriptions",
      "organizations_url": "https://api.github.com/users/bmatican/orgs",
      "repos_url": "https://api.github.com/users/bmatican/repos",
      "events_url": "https://api.github.com/users/bmatican/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bmatican/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 1290759928,
        "node_id": "MDU6TGFiZWwxMjkwNzU5OTI4",
        "url": "https://api.github.com/repos/yugabyte/yugabyte-db/labels/area/docdb",
        "name": "area/docdb",
        "color": "0c4fcc",
        "default": false,
        "description": "YugabyteDB core features"
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [

    ],
    "milestone": null,
    "comments": 0,
    "created_at": "2021-10-08T18:01:00Z",
    "updated_at": "2021-10-08T18:01:00Z",
    "closed_at": null,
    "author_association": "CONTRIBUTOR",
    "active_lock_reason": null,
    "body": "Depending on workloads, we've sometimes seen the tcmalloc internals end up with hundreds of MB worth of memory reserved, which could lead to the servers hitting soft memory limit unexpectedly.\r\n\r\nIt might be cheap to have a bg task that clears these caches, perhaps as we get too close to the soft memory limit. cc @amitanandaiyer @ttyusupov ",
    "reactions": {
      "url": "https://api.github.com/repos/yugabyte/yugabyte-db/issues/10243/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/yugabyte/yugabyte-db/issues/10243/timeline",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/yugabyte/yugabyte-db/issues/10242",
    "repository_url": "https://api.github.com/repos/yugabyte/yugabyte-db",
    "labels_url": "https://api.github.com/repos/yugabyte/yugabyte-db/issues/10242/labels{/name}",
    "comments_url": "https://api.github.com/repos/yugabyte/yugabyte-db/issues/10242/comments",
    "events_url": "https://api.github.com/repos/yugabyte/yugabyte-db/issues/10242/events",
    "html_url": "https://github.com/yugabyte/yugabyte-db/issues/10242",
    "id": 1021341321,
    "node_id": "I_kwDOBlCVUc484G6J",
    "number": 10242,
    "title": "[docdb] Reduce master memstore memory usage",
    "user": {
      "login": "bmatican",
      "id": 395011,
      "node_id": "MDQ6VXNlcjM5NTAxMQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/395011?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bmatican",
      "html_url": "https://github.com/bmatican",
      "followers_url": "https://api.github.com/users/bmatican/followers",
      "following_url": "https://api.github.com/users/bmatican/following{/other_user}",
      "gists_url": "https://api.github.com/users/bmatican/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bmatican/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bmatican/subscriptions",
      "organizations_url": "https://api.github.com/users/bmatican/orgs",
      "repos_url": "https://api.github.com/users/bmatican/repos",
      "events_url": "https://api.github.com/users/bmatican/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bmatican/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 1290759928,
        "node_id": "MDU6TGFiZWwxMjkwNzU5OTI4",
        "url": "https://api.github.com/repos/yugabyte/yugabyte-db/labels/area/docdb",
        "name": "area/docdb",
        "color": "0c4fcc",
        "default": false,
        "description": "YugabyteDB core features"
      },
      {
        "id": 1353907004,
        "node_id": "MDU6TGFiZWwxMzUzOTA3MDA0",
        "url": "https://api.github.com/repos/yugabyte/yugabyte-db/labels/priority/high",
        "name": "priority/high",
        "color": "ffdc5e",
        "default": false,
        "description": "High Priority"
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": {
      "login": "jmeehan16",
      "id": 2799714,
      "node_id": "MDQ6VXNlcjI3OTk3MTQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2799714?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jmeehan16",
      "html_url": "https://github.com/jmeehan16",
      "followers_url": "https://api.github.com/users/jmeehan16/followers",
      "following_url": "https://api.github.com/users/jmeehan16/following{/other_user}",
      "gists_url": "https://api.github.com/users/jmeehan16/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jmeehan16/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jmeehan16/subscriptions",
      "organizations_url": "https://api.github.com/users/jmeehan16/orgs",
      "repos_url": "https://api.github.com/users/jmeehan16/repos",
      "events_url": "https://api.github.com/users/jmeehan16/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jmeehan16/received_events",
      "type": "User",
      "site_admin": false
    },
    "assignees": [
      {
        "login": "jmeehan16",
        "id": 2799714,
        "node_id": "MDQ6VXNlcjI3OTk3MTQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2799714?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jmeehan16",
        "html_url": "https://github.com/jmeehan16",
        "followers_url": "https://api.github.com/users/jmeehan16/followers",
        "following_url": "https://api.github.com/users/jmeehan16/following{/other_user}",
        "gists_url": "https://api.github.com/users/jmeehan16/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/jmeehan16/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/jmeehan16/subscriptions",
        "organizations_url": "https://api.github.com/users/jmeehan16/orgs",
        "repos_url": "https://api.github.com/users/jmeehan16/repos",
        "events_url": "https://api.github.com/users/jmeehan16/events{/privacy}",
        "received_events_url": "https://api.github.com/users/jmeehan16/received_events",
        "type": "User",
        "site_admin": false
      }
    ],
    "milestone": null,
    "comments": 0,
    "created_at": "2021-10-08T17:55:04Z",
    "updated_at": "2021-10-08T17:55:04Z",
    "closed_at": null,
    "author_association": "CONTRIBUTOR",
    "active_lock_reason": null,
    "body": "As a followup to #8037, we should\r\n- enable the global memstore limit bg flush mechanism -- TBD if this isn't already ON for the master too cc @jmeehan16 \r\n- reduce the default memstore_size_mb size for the master, as at 128mb x 2 (regular + intents), this could be too much fixed overhead -- perhaps we can reduce it to 32mb",
    "reactions": {
      "url": "https://api.github.com/repos/yugabyte/yugabyte-db/issues/10242/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/yugabyte/yugabyte-db/issues/10242/timeline",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/yugabyte/yugabyte-db/issues/10241",
    "repository_url": "https://api.github.com/repos/yugabyte/yugabyte-db",
    "labels_url": "https://api.github.com/repos/yugabyte/yugabyte-db/issues/10241/labels{/name}",
    "comments_url": "https://api.github.com/repos/yugabyte/yugabyte-db/issues/10241/comments",
    "events_url": "https://api.github.com/repos/yugabyte/yugabyte-db/issues/10241/events",
    "html_url": "https://github.com/yugabyte/yugabyte-db/issues/10241",
    "id": 1021280655,
    "node_id": "I_kwDOBlCVUc4834GP",
    "number": 10241,
    "title": "[docs] Please document all user flags for yb-admin.",
    "user": {
      "login": "gautamsomani",
      "id": 61463522,
      "node_id": "MDQ6VXNlcjYxNDYzNTIy",
      "avatar_url": "https://avatars.githubusercontent.com/u/61463522?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gautamsomani",
      "html_url": "https://github.com/gautamsomani",
      "followers_url": "https://api.github.com/users/gautamsomani/followers",
      "following_url": "https://api.github.com/users/gautamsomani/following{/other_user}",
      "gists_url": "https://api.github.com/users/gautamsomani/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gautamsomani/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gautamsomani/subscriptions",
      "organizations_url": "https://api.github.com/users/gautamsomani/orgs",
      "repos_url": "https://api.github.com/users/gautamsomani/repos",
      "events_url": "https://api.github.com/users/gautamsomani/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gautamsomani/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [

    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [

    ],
    "milestone": null,
    "comments": 0,
    "created_at": "2021-10-08T16:30:53Z",
    "updated_at": "2021-10-08T16:30:53Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "Refer https://yugabyte.zendesk.com/agent/tickets/2038.\r\nThe flag mentioned in the ticket, '-net_address_filter ipv6_all', is not documented anywhere. It does not show up in the output of yb-admin command, nor is documented in docs.yugabyte.com.\r\n\r\nKindly go through all available flags in all commands and update the documents and command help on priority basis.",
    "reactions": {
      "url": "https://api.github.com/repos/yugabyte/yugabyte-db/issues/10241/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/yugabyte/yugabyte-db/issues/10241/timeline",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/yugabyte/yugabyte-db/issues/10240",
    "repository_url": "https://api.github.com/repos/yugabyte/yugabyte-db",
    "labels_url": "https://api.github.com/repos/yugabyte/yugabyte-db/issues/10240/labels{/name}",
    "comments_url": "https://api.github.com/repos/yugabyte/yugabyte-db/issues/10240/comments",
    "events_url": "https://api.github.com/repos/yugabyte/yugabyte-db/issues/10240/events",
    "html_url": "https://github.com/yugabyte/yugabyte-db/issues/10240",
    "id": 1021277980,
    "node_id": "I_kwDOBlCVUc4833cc",
    "number": 10240,
    "title": "yb-admin doesn't work with IPv6 with default options",
    "user": {
      "login": "gautamsomani",
      "id": 61463522,
      "node_id": "MDQ6VXNlcjYxNDYzNTIy",
      "avatar_url": "https://avatars.githubusercontent.com/u/61463522?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gautamsomani",
      "html_url": "https://github.com/gautamsomani",
      "followers_url": "https://api.github.com/users/gautamsomani/followers",
      "following_url": "https://api.github.com/users/gautamsomani/following{/other_user}",
      "gists_url": "https://api.github.com/users/gautamsomani/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gautamsomani/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gautamsomani/subscriptions",
      "organizations_url": "https://api.github.com/users/gautamsomani/orgs",
      "repos_url": "https://api.github.com/users/gautamsomani/repos",
      "events_url": "https://api.github.com/users/gautamsomani/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gautamsomani/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [

    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [

    ],
    "milestone": null,
    "comments": 1,
    "created_at": "2021-10-08T16:27:17Z",
    "updated_at": "2021-10-08T16:54:18Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "Faced this issue with Rakuten. Refer https://yugabyte.zendesk.com/agent/tickets/2038. Note that this issue happens irrespective of SSL being enabled or not, as discussed in the mentioned ticket.\r\n\r\nyb-admin needs to be given \" -net_address_filter ipv6_all\" option in the command line to make it work with IPv6. Without this option we get the following errors:\r\n\r\n```\r\nTimed out (yb/rpc/rpc.cc:211): Unable to establish connection to leader master at [rmdp-yb-006-master-z1-0.yb-masters.yugabyte-byo-1ca.svc.uhn7kls16.local:7100,rmdp-yb-006-master-z2-0.yb-masters.yugabyte-byo-2ca.svc.uhn7klr2c.local:7100,rmdp-yb-006-master-z3-0.yb-masters.yugabyte-byo-3ca.svc.uhn7kls17.local:7100]. Please verify the addresses.\r\n\r\n: Could not locate the leader master: GetLeaderMasterRpc(addrs: [rmdp-yb-006-master-z1-0.yb-masters.yugabyte-byo-1ca.svc.uhn7kls16.local:7100, rmdp-yb-006-master-z2-0.yb-masters.yugabyte-byo-2ca.svc.uhn7klr2c.local:7100, rmdp-yb-006-master-z3-0.yb-masters.yugabyte-byo-3ca.svc.uhn7kls17.local:7100], num_attempts: 345) passed its deadline 980723.804s (passed: 60.226s): Network error (yb/util/net/dns_resolver.cc:74): No endpoints resolved for: rmdp-yb-006-master-z3-0.yb-masters.yugabyte-byo-3ca.svc.uhn7kls17.local\r\n```\r\n\r\nThe '-net_address_filter ipv6_all' is not documented anywhere.",
    "reactions": {
      "url": "https://api.github.com/repos/yugabyte/yugabyte-db/issues/10240/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/yugabyte/yugabyte-db/issues/10240/timeline",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/yugabyte/yugabyte-db/issues/10239",
    "repository_url": "https://api.github.com/repos/yugabyte/yugabyte-db",
    "labels_url": "https://api.github.com/repos/yugabyte/yugabyte-db/issues/10239/labels{/name}",
    "comments_url": "https://api.github.com/repos/yugabyte/yugabyte-db/issues/10239/comments",
    "events_url": "https://api.github.com/repos/yugabyte/yugabyte-db/issues/10239/events",
    "html_url": "https://github.com/yugabyte/yugabyte-db/issues/10239",
    "id": 1021064987,
    "node_id": "I_kwDOBlCVUc483Dcb",
    "number": 10239,
    "title": "PITR: Restore fails to restore the DB when drop constraint precedes the restore_snapshot command ",
    "user": {
      "login": "kripasreenivasan",
      "id": 87007277,
      "node_id": "MDQ6VXNlcjg3MDA3Mjc3",
      "avatar_url": "https://avatars.githubusercontent.com/u/87007277?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kripasreenivasan",
      "html_url": "https://github.com/kripasreenivasan",
      "followers_url": "https://api.github.com/users/kripasreenivasan/followers",
      "following_url": "https://api.github.com/users/kripasreenivasan/following{/other_user}",
      "gists_url": "https://api.github.com/users/kripasreenivasan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kripasreenivasan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kripasreenivasan/subscriptions",
      "organizations_url": "https://api.github.com/users/kripasreenivasan/orgs",
      "repos_url": "https://api.github.com/users/kripasreenivasan/repos",
      "events_url": "https://api.github.com/users/kripasreenivasan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kripasreenivasan/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [

    ],
    "state": "open",
    "locked": false,
    "assignee": {
      "login": "sanketkedia",
      "id": 14816236,
      "node_id": "MDQ6VXNlcjE0ODE2MjM2",
      "avatar_url": "https://avatars.githubusercontent.com/u/14816236?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sanketkedia",
      "html_url": "https://github.com/sanketkedia",
      "followers_url": "https://api.github.com/users/sanketkedia/followers",
      "following_url": "https://api.github.com/users/sanketkedia/following{/other_user}",
      "gists_url": "https://api.github.com/users/sanketkedia/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sanketkedia/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sanketkedia/subscriptions",
      "organizations_url": "https://api.github.com/users/sanketkedia/orgs",
      "repos_url": "https://api.github.com/users/sanketkedia/repos",
      "events_url": "https://api.github.com/users/sanketkedia/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sanketkedia/received_events",
      "type": "User",
      "site_admin": false
    },
    "assignees": [
      {
        "login": "sanketkedia",
        "id": 14816236,
        "node_id": "MDQ6VXNlcjE0ODE2MjM2",
        "avatar_url": "https://avatars.githubusercontent.com/u/14816236?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sanketkedia",
        "html_url": "https://github.com/sanketkedia",
        "followers_url": "https://api.github.com/users/sanketkedia/followers",
        "following_url": "https://api.github.com/users/sanketkedia/following{/other_user}",
        "gists_url": "https://api.github.com/users/sanketkedia/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/sanketkedia/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/sanketkedia/subscriptions",
        "organizations_url": "https://api.github.com/users/sanketkedia/orgs",
        "repos_url": "https://api.github.com/users/sanketkedia/repos",
        "events_url": "https://api.github.com/users/sanketkedia/events{/privacy}",
        "received_events_url": "https://api.github.com/users/sanketkedia/received_events",
        "type": "User",
        "site_admin": false
      }
    ],
    "milestone": null,
    "comments": 0,
    "created_at": "2021-10-08T12:52:52Z",
    "updated_at": "2021-10-08T12:53:01Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "1. Create a table with a Foreign Key and note the absolute time at this point to back up to this point.\r\n2. Drop the Foreign Key  constraint created in step 1.\r\n3. Restore the back up to the end of step 1\r\nExpected: The Foreign Key  must be present since we have rolled back to the state of step 1.\r\nActual: The Foreign Key is not present. The Drop constraint alter statement executed prior to the backup is still reflecting and has not been un-done.\r\n\r\nConsole Dump:\r\nyugabyte=# \\d+ sale_orders;\r\n                                                            Table \"public.sale_orders\"\r\n   Column   |            Type             | Collation | Nullable |                 Default                 | Storage  | Stats target | Description\r\n------------+-----------------------------+-----------+----------+-----------------------------------------+----------+--------------+-------------\r\n id         | bigint                      |           | not null | nextval('sale_orders_id_seq'::regclass) | plain    |              |\r\n created_at | timestamp without time zone |           |          |                                         | plain    |              |\r\n reviewer   | text                        |           |          |                                         | extended |              |\r\n product_id | bigint                      |           |          |                                         | plain    |              |\r\n rating     | integer                     |           |          |                                         | plain    |              |\r\n body       | text                        |           |          |                                         | extended |              |\r\nForeign-key constraints:\r\n    \"sale_orders_id_fkey\" FOREIGN KEY (id) REFERENCES orders(id)\r\n\r\nyugabyte=#  ALTER TABLE sale_orders drop constraint sale_orders_id_fkey;\r\nALTER TABLE\r\nyugabyte=# \\d+ sale_orders;\r\n                                                            Table \"public.sale_orders\"\r\n   Column   |            Type             | Collation | Nullable |                 Default                 | Storage  | Stats target | Description\r\n------------+-----------------------------+-----------+----------+-----------------------------------------+----------+--------------+-------------\r\n id         | bigint                      |           | not null | nextval('sale_orders_id_seq'::regclass) | plain    |              |\r\n created_at | timestamp without time zone |           |          |                                         | plain    |              |\r\n reviewer   | text                        |           |          |                                         | extended |              |\r\n product_id | bigint                      |           |          |                                         | plain    |              |\r\n rating     | integer                     |           |          |                                         | plain    |              |\r\n body       | text                        |           |          |                                         | extended |              |\r\n\r\nyugabyte=# \\d+ sale_orders;\r\n                                                            Table \"public.sale_orders\"\r\n   Column   |            Type             | Collation | Nullable |                 Default                 | Storage  | Stats target | Description\r\n------------+-----------------------------+-----------+----------+-----------------------------------------+----------+--------------+-------------\r\n id         | bigint                      |           | not null | nextval('sale_orders_id_seq'::regclass) | plain    |              |\r\n created_at | timestamp without time zone |           |          |                                         | plain    |              |\r\n reviewer   | text                        |           |          |                                         | extended |              |\r\n product_id | bigint                      |           |          |                                         | plain    |              |\r\n rating     | integer                     |           |          |                                         | plain    |              |\r\n body       | text                        |           |          |                                         | extended |              |\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/yugabyte/yugabyte-db/issues/10239/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/yugabyte/yugabyte-db/issues/10239/timeline",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/yugabyte/yugabyte-db/issues/10238",
    "repository_url": "https://api.github.com/repos/yugabyte/yugabyte-db",
    "labels_url": "https://api.github.com/repos/yugabyte/yugabyte-db/issues/10238/labels{/name}",
    "comments_url": "https://api.github.com/repos/yugabyte/yugabyte-db/issues/10238/comments",
    "events_url": "https://api.github.com/repos/yugabyte/yugabyte-db/issues/10238/events",
    "html_url": "https://github.com/yugabyte/yugabyte-db/issues/10238",
    "id": 1021009505,
    "node_id": "I_kwDOBlCVUc48215h",
    "number": 10238,
    "title": "PITR: Restore failure on adding foreign key constraint and restoring to a point before key addition",
    "user": {
      "login": "kripasreenivasan",
      "id": 87007277,
      "node_id": "MDQ6VXNlcjg3MDA3Mjc3",
      "avatar_url": "https://avatars.githubusercontent.com/u/87007277?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kripasreenivasan",
      "html_url": "https://github.com/kripasreenivasan",
      "followers_url": "https://api.github.com/users/kripasreenivasan/followers",
      "following_url": "https://api.github.com/users/kripasreenivasan/following{/other_user}",
      "gists_url": "https://api.github.com/users/kripasreenivasan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kripasreenivasan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kripasreenivasan/subscriptions",
      "organizations_url": "https://api.github.com/users/kripasreenivasan/orgs",
      "repos_url": "https://api.github.com/users/kripasreenivasan/repos",
      "events_url": "https://api.github.com/users/kripasreenivasan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kripasreenivasan/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [

    ],
    "state": "open",
    "locked": false,
    "assignee": {
      "login": "sanketkedia",
      "id": 14816236,
      "node_id": "MDQ6VXNlcjE0ODE2MjM2",
      "avatar_url": "https://avatars.githubusercontent.com/u/14816236?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sanketkedia",
      "html_url": "https://github.com/sanketkedia",
      "followers_url": "https://api.github.com/users/sanketkedia/followers",
      "following_url": "https://api.github.com/users/sanketkedia/following{/other_user}",
      "gists_url": "https://api.github.com/users/sanketkedia/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sanketkedia/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sanketkedia/subscriptions",
      "organizations_url": "https://api.github.com/users/sanketkedia/orgs",
      "repos_url": "https://api.github.com/users/sanketkedia/repos",
      "events_url": "https://api.github.com/users/sanketkedia/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sanketkedia/received_events",
      "type": "User",
      "site_admin": false
    },
    "assignees": [
      {
        "login": "sanketkedia",
        "id": 14816236,
        "node_id": "MDQ6VXNlcjE0ODE2MjM2",
        "avatar_url": "https://avatars.githubusercontent.com/u/14816236?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sanketkedia",
        "html_url": "https://github.com/sanketkedia",
        "followers_url": "https://api.github.com/users/sanketkedia/followers",
        "following_url": "https://api.github.com/users/sanketkedia/following{/other_user}",
        "gists_url": "https://api.github.com/users/sanketkedia/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/sanketkedia/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/sanketkedia/subscriptions",
        "organizations_url": "https://api.github.com/users/sanketkedia/orgs",
        "repos_url": "https://api.github.com/users/sanketkedia/repos",
        "events_url": "https://api.github.com/users/sanketkedia/events{/privacy}",
        "received_events_url": "https://api.github.com/users/sanketkedia/received_events",
        "type": "User",
        "site_admin": false
      }
    ],
    "milestone": null,
    "comments": 0,
    "created_at": "2021-10-08T11:50:03Z",
    "updated_at": "2021-10-08T11:50:26Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "1. Create a table without any Foreign keys. Make a not of the absolute timestamp.\r\n2. Add a foreign key constraint with ALTER TABLE cancelled_orders ADD FOREIGN KEY (id) REFERENCES orders (id);\r\nList the set of foreign keys using either of the two commands mentioned at the end of the description. It will return output as 1 key.\r\n3. Restore the state of the DB to end of step 1.\r\n4. List the set of foreign keys in the table.\r\n**Issue:** The Foreign key constraint does not get removed.\r\n\r\n\r\n**Command to list foreign keys:**\r\n1. SELECT\r\n    tc.table_schema,\r\n    tc.constraint_name,\r\n    tc.table_name,\r\n    kcu.column_name,\r\n    ccu.table_schema AS foreign_table_schema,\r\n    ccu.table_name AS foreign_table_name,\r\n    ccu.column_name AS foreign_column_name\r\nFROM\r\n    information_schema.table_constraints AS tc\r\n    JOIN information_schema.key_column_usage AS kcu\r\n      ON tc.constraint_name = kcu.constraint_name\r\n      AND tc.table_schema = kcu.table_schema\r\n    JOIN information_schema.constraint_column_usage AS ccu\r\n      ON ccu.constraint_name = tc.constraint_name\r\n      AND ccu.table_schema = tc.table_schema\r\nWHERE tc.constraint_type = 'FOREIGN KEY' AND tc.table_name='<table_name>';\r\n2. \\d+ <tablename>\r\n\r\n**Console Dump:**\r\nfive=# \\d+ cancelled_orders\r\n                                                            Table \"public.cancelled_orders\"\r\n   Column   |            Type             | Collation | Nullable |                   Default                    | Storage  | Stats target | Description\r\n------------+-----------------------------+-----------+----------+----------------------------------------------+----------+--------------+-------------\r\n id         | bigint                      |           | not null | nextval('cancelled_orders_id_seq'::regclass) | plain    |              |\r\n created_at | timestamp without time zone |           |          |                                              | plain    |              |\r\n reviewer   | text                        |           |          |                                              | extended |              |\r\n product_id | bigint                      |           |          |                                              | plain    |              |\r\n rating     | integer                     |           |          |                                              | plain    |              |\r\n body       | text                        |           |          |                                              | extended |              |\r\n\r\nfive=# SELECT\r\nfive-#     tc.table_schema,\r\nfive-#     tc.constraint_name,\r\nfive-#     tc.table_name,\r\nfive-#     kcu.column_name,\r\nfive-#     ccu.table_schema AS foreign_table_schema,\r\nfive-#     ccu.table_name AS foreign_table_name,\r\nfive-#     ccu.column_name AS foreign_column_name\r\nfive-# FROM\r\nfive-#     information_schema.table_constraints AS tc\r\nfive-#     JOIN information_schema.key_column_usage AS kcu\r\nfive-#       ON tc.constraint_name = kcu.constraint_name\r\nfive-#       AND tc.table_schema = kcu.table_schema\r\nfive-#     JOIN information_schema.constraint_column_usage AS ccu\r\nfive-#       ON ccu.constraint_name = tc.constraint_name\r\nfive-#       AND ccu.table_schema = tc.table_schema\r\nfive-# WHERE tc.constraint_type = 'FOREIGN KEY' AND tc.table_name='cancelled_orders';\r\n table_schema | constraint_name | table_name | column_name | foreign_table_schema | foreign_table_name | foreign_column_name\r\n--------------+-----------------+------------+-------------+----------------------+--------------------+---------------------\r\n(0 rows)\r\n\r\nfive=#\r\nfive=# ALTER TABLE cancelled_orders ADD FOREIGN KEY (id) REFERENCES orders (id);\r\nALTER TABLE\r\nfive=# SELECT\r\n    tc.table_schema,\r\n    tc.constraint_name,\r\n    tc.table_name,\r\n    kcu.column_name,\r\n    ccu.table_schema AS foreign_table_schema,\r\n    ccu.table_name AS foreign_table_name,\r\n    ccu.column_name AS foreign_column_name\r\nFROM\r\n    information_schema.table_constraints AS tc\r\n    JOIN information_schema.key_column_usage AS kcu\r\n      ON tc.constraint_name = kcu.constraint_name\r\n      AND tc.table_schema = kcu.table_schema\r\n    JOIN information_schema.constraint_column_usage AS ccu\r\n      ON ccu.constraint_name = tc.constraint_name\r\n      AND ccu.table_schema = tc.table_schema\r\nWHERE tc.constraint_type = 'FOREIGN KEY' AND tc.table_name='cancelled_orders';\r\n table_schema |     constraint_name      |    table_name    | column_name | foreign_table_schema | foreign_table_name | foreign_column_name\r\n--------------+--------------------------+------------------+-------------+----------------------+--------------------+---------------------\r\n public       | cancelled_orders_id_fkey | cancelled_orders | id          | public               | orders             | id\r\n(1 row)\r\n\r\nfive=# \\d+ cancelled_orders\r\n                                                            Table \"public.cancelled_orders\"\r\n   Column   |            Type             | Collation | Nullable |                   Default                    | Storage  | Stats target | Description\r\n------------+-----------------------------+-----------+----------+----------------------------------------------+----------+--------------+-------------\r\n id         | bigint                      |           | not null | nextval('cancelled_orders_id_seq'::regclass) | plain    |              |\r\n created_at | timestamp without time zone |           |          |                                              | plain    |              |\r\n reviewer   | text                        |           |          |                                              | extended |              |\r\n product_id | bigint                      |           |          |                                              | plain    |              |\r\n rating     | integer                     |           |          |                                              | plain    |              |\r\n body       | text                        |           |          |                                              | extended |              |\r\nForeign-key constraints:\r\n    \"cancelled_orders_id_fkey\" FOREIGN KEY (id) REFERENCES orders(id)\r\n\r\nfive=# \\d+ cancelled_orders\r\n                                                            Table \"public.cancelled_orders\"\r\n   Column   |            Type             | Collation | Nullable |                   Default                    | Storage  | Stats target | Description\r\n------------+-----------------------------+-----------+----------+----------------------------------------------+----------+--------------+-------------\r\n id         | bigint                      |           | not null | nextval('cancelled_orders_id_seq'::regclass) | plain    |              |\r\n created_at | timestamp without time zone |           |          |                                              | plain    |              |\r\n reviewer   | text                        |           |          |                                              | extended |              |\r\n product_id | bigint                      |           |          |                                              | plain    |              |\r\n rating     | integer                     |           |          |                                              | plain    |              |\r\n body       | text                        |           |          |                                              | extended |              |\r\nForeign-key constraints:\r\n    \"cancelled_orders_id_fkey\" FOREIGN KEY (id) REFERENCES orders(id)\r\n\r\nfive=# SELECT\r\n    tc.table_schema,\r\n    tc.constraint_name,\r\n    tc.table_name,\r\n    kcu.column_name,\r\n    ccu.table_schema AS foreign_table_schema,\r\n    ccu.table_name AS foreign_table_name,\r\n    ccu.column_name AS foreign_column_name\r\nFROM\r\n    information_schema.table_constraints AS tc\r\n    JOIN information_schema.key_column_usage AS kcu\r\n      ON tc.constraint_name = kcu.constraint_name\r\n      AND tc.table_schema = kcu.table_schema\r\n    JOIN information_schema.constraint_column_usage AS ccu\r\n      ON ccu.constraint_name = tc.constraint_name\r\n      AND ccu.table_schema = tc.table_schema\r\nWHERE tc.constraint_type = 'FOREIGN KEY' AND tc.table_name='cancelled_orders';\r\n table_schema |     constraint_name      |    table_name    | column_name | foreign_table_schema | foreign_table_name | foreign_column_name\r\n--------------+--------------------------+------------------+-------------+----------------------+--------------------+---------------------\r\n public       | cancelled_orders_id_fkey | cancelled_orders | id          | public               | orders             | id\r\n(1 row)\r\n\r\nfive=#",
    "reactions": {
      "url": "https://api.github.com/repos/yugabyte/yugabyte-db/issues/10238/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/yugabyte/yugabyte-db/issues/10238/timeline",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/yugabyte/yugabyte-db/issues/10237",
    "repository_url": "https://api.github.com/repos/yugabyte/yugabyte-db",
    "labels_url": "https://api.github.com/repos/yugabyte/yugabyte-db/issues/10237/labels{/name}",
    "comments_url": "https://api.github.com/repos/yugabyte/yugabyte-db/issues/10237/comments",
    "events_url": "https://api.github.com/repos/yugabyte/yugabyte-db/issues/10237/events",
    "html_url": "https://github.com/yugabyte/yugabyte-db/issues/10237",
    "id": 1020976741,
    "node_id": "I_kwDOBlCVUc482t5l",
    "number": 10237,
    "title": "PITR: Restore fails with restore followed by alter table add constraint ",
    "user": {
      "login": "kripasreenivasan",
      "id": 87007277,
      "node_id": "MDQ6VXNlcjg3MDA3Mjc3",
      "avatar_url": "https://avatars.githubusercontent.com/u/87007277?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kripasreenivasan",
      "html_url": "https://github.com/kripasreenivasan",
      "followers_url": "https://api.github.com/users/kripasreenivasan/followers",
      "following_url": "https://api.github.com/users/kripasreenivasan/following{/other_user}",
      "gists_url": "https://api.github.com/users/kripasreenivasan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kripasreenivasan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kripasreenivasan/subscriptions",
      "organizations_url": "https://api.github.com/users/kripasreenivasan/orgs",
      "repos_url": "https://api.github.com/users/kripasreenivasan/repos",
      "events_url": "https://api.github.com/users/kripasreenivasan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kripasreenivasan/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [

    ],
    "state": "open",
    "locked": false,
    "assignee": {
      "login": "sanketkedia",
      "id": 14816236,
      "node_id": "MDQ6VXNlcjE0ODE2MjM2",
      "avatar_url": "https://avatars.githubusercontent.com/u/14816236?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sanketkedia",
      "html_url": "https://github.com/sanketkedia",
      "followers_url": "https://api.github.com/users/sanketkedia/followers",
      "following_url": "https://api.github.com/users/sanketkedia/following{/other_user}",
      "gists_url": "https://api.github.com/users/sanketkedia/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sanketkedia/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sanketkedia/subscriptions",
      "organizations_url": "https://api.github.com/users/sanketkedia/orgs",
      "repos_url": "https://api.github.com/users/sanketkedia/repos",
      "events_url": "https://api.github.com/users/sanketkedia/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sanketkedia/received_events",
      "type": "User",
      "site_admin": false
    },
    "assignees": [
      {
        "login": "sanketkedia",
        "id": 14816236,
        "node_id": "MDQ6VXNlcjE0ODE2MjM2",
        "avatar_url": "https://avatars.githubusercontent.com/u/14816236?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sanketkedia",
        "html_url": "https://github.com/sanketkedia",
        "followers_url": "https://api.github.com/users/sanketkedia/followers",
        "following_url": "https://api.github.com/users/sanketkedia/following{/other_user}",
        "gists_url": "https://api.github.com/users/sanketkedia/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/sanketkedia/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/sanketkedia/subscriptions",
        "organizations_url": "https://api.github.com/users/sanketkedia/orgs",
        "repos_url": "https://api.github.com/users/sanketkedia/repos",
        "events_url": "https://api.github.com/users/sanketkedia/events{/privacy}",
        "received_events_url": "https://api.github.com/users/sanketkedia/received_events",
        "type": "User",
        "site_admin": false
      }
    ],
    "milestone": null,
    "comments": 0,
    "created_at": "2021-10-08T11:09:12Z",
    "updated_at": "2021-10-08T12:30:07Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "1. Create a table without any primary keys. Note the absolute time. This is the point we will revert to.\r\n2. Execute alter table with add constraint PK on one of the columns.\r\n3. Try to delete the column which has been made PK. (Will not be possible owing to the PK constraint- Expected)\r\n4. Restore snapshot to end of step 1.\r\n5. Try to delete the column which was made PK in step 3(Expected: This time around it should be possible since we have restored the DB to a point where the PK constraint does not exist)\r\nActual: It says the table does not exist. But on executing a \\dt we realize table exists and restore has failed. \r\n\r\nRestoration ID: \r\n[yugabyte@ip-12-11-9-16 tserver]$ bin/yb-admin -master_addresses 12.11.29.16,12.11.40.14,12.151.9.75 restore_snapshot_schedule 974f0c29-e5de-4869-bed0-85c31f8cfe08 1633691018939149\r\n{\r\n    \"snapshot_id\": \"ed4db102-b4f7-40eb-9a70-94d1329bb3d0\",\r\n    \"restoration_id\": \"a885dad0-b377-4181-b27b-e6e9247eeae1\"\r\n}\r\nConsole Dump:\r\nfour=# \\dt\r\n          List of relations\r\n Schema |   Name   | Type  |  Owner\r\n--------+----------+-------+----------\r\n public | orders   | table | yugabyte\r\n public | products | table | yugabyte\r\n public | reviews  | table | yugabyte\r\n public | users    | table | yugabyte\r\n(4 rows)\r\n\r\nfour=# CREATE TABLE cancelled_orders(\r\nfour(#   id         bigserial ,\r\nfour(#   created_at timestamp,\r\nfour(#   reviewer   text,\r\nfour(#   product_id bigint,\r\nfour(#   rating     int,\r\nfour(#   body       text\r\nfour(# );\r\n\r\nCREATE TABLE\r\nfour=#\r\nfour=# alter table cancelled_orders add primary key(product_id);\r\nALTER TABLE\r\nfour=# alter table cancelled_orders drop column product_id;\r\nERROR:  Invalid argument: cannot remove a key column\r\nfour=# \\dt\r\n              List of relations\r\n Schema |       Name       | Type  |  Owner\r\n--------+------------------+-------+----------\r\n public | cancelled_orders | table | yugabyte\r\n public | orders           | table | yugabyte\r\n public | products         | table | yugabyte\r\n public | reviews          | table | yugabyte\r\n public | users            | table | yugabyte\r\n(5 rows)\r\n\r\nfour=# alter table cancelled_orders drop column product_id;\r\nERROR:  relation \"cancelled_orders\" does not exist\r\nfour=# \\dt\r\n              List of relations\r\n Schema |       Name       | Type  |  Owner\r\n--------+------------------+-------+----------\r\n public | cancelled_orders | table | yugabyte\r\n public | orders           | table | yugabyte\r\n public | products         | table | yugabyte\r\n public | reviews          | table | yugabyte\r\n public | users            | table | yugabyte\r\n(5 rows)\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/yugabyte/yugabyte-db/issues/10237/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/yugabyte/yugabyte-db/issues/10237/timeline",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/yugabyte/yugabyte-db/issues/10236",
    "repository_url": "https://api.github.com/repos/yugabyte/yugabyte-db",
    "labels_url": "https://api.github.com/repos/yugabyte/yugabyte-db/issues/10236/labels{/name}",
    "comments_url": "https://api.github.com/repos/yugabyte/yugabyte-db/issues/10236/comments",
    "events_url": "https://api.github.com/repos/yugabyte/yugabyte-db/issues/10236/events",
    "html_url": "https://github.com/yugabyte/yugabyte-db/issues/10236",
    "id": 1020857848,
    "node_id": "I_kwDOBlCVUc482Q34",
    "number": 10236,
    "title": "SQLancer: IOException occurs on UDPATE statement (local and cluster modes are affected)",
    "user": {
      "login": "qvad",
      "id": 5963536,
      "node_id": "MDQ6VXNlcjU5NjM1MzY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5963536?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/qvad",
      "html_url": "https://github.com/qvad",
      "followers_url": "https://api.github.com/users/qvad/followers",
      "following_url": "https://api.github.com/users/qvad/following{/other_user}",
      "gists_url": "https://api.github.com/users/qvad/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/qvad/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/qvad/subscriptions",
      "organizations_url": "https://api.github.com/users/qvad/orgs",
      "repos_url": "https://api.github.com/users/qvad/repos",
      "events_url": "https://api.github.com/users/qvad/events{/privacy}",
      "received_events_url": "https://api.github.com/users/qvad/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 1280238232,
        "node_id": "MDU6TGFiZWwxMjgwMjM4MjMy",
        "url": "https://api.github.com/repos/yugabyte/yugabyte-db/labels/area/ysql",
        "name": "area/ysql",
        "color": "0c4fcc",
        "default": false,
        "description": "Yugabyte SQL (YSQL)"
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": {
      "login": "m-iancu",
      "id": 4038003,
      "node_id": "MDQ6VXNlcjQwMzgwMDM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4038003?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/m-iancu",
      "html_url": "https://github.com/m-iancu",
      "followers_url": "https://api.github.com/users/m-iancu/followers",
      "following_url": "https://api.github.com/users/m-iancu/following{/other_user}",
      "gists_url": "https://api.github.com/users/m-iancu/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/m-iancu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/m-iancu/subscriptions",
      "organizations_url": "https://api.github.com/users/m-iancu/orgs",
      "repos_url": "https://api.github.com/users/m-iancu/repos",
      "events_url": "https://api.github.com/users/m-iancu/events{/privacy}",
      "received_events_url": "https://api.github.com/users/m-iancu/received_events",
      "type": "User",
      "site_admin": false
    },
    "assignees": [
      {
        "login": "m-iancu",
        "id": 4038003,
        "node_id": "MDQ6VXNlcjQwMzgwMDM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4038003?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/m-iancu",
        "html_url": "https://github.com/m-iancu",
        "followers_url": "https://api.github.com/users/m-iancu/followers",
        "following_url": "https://api.github.com/users/m-iancu/following{/other_user}",
        "gists_url": "https://api.github.com/users/m-iancu/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/m-iancu/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/m-iancu/subscriptions",
        "organizations_url": "https://api.github.com/users/m-iancu/orgs",
        "repos_url": "https://api.github.com/users/m-iancu/repos",
        "events_url": "https://api.github.com/users/m-iancu/events{/privacy}",
        "received_events_url": "https://api.github.com/users/m-iancu/received_events",
        "type": "User",
        "site_admin": false
      },
      {
        "login": "fizaaluthra",
        "id": 20885072,
        "node_id": "MDQ6VXNlcjIwODg1MDcy",
        "avatar_url": "https://avatars.githubusercontent.com/u/20885072?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fizaaluthra",
        "html_url": "https://github.com/fizaaluthra",
        "followers_url": "https://api.github.com/users/fizaaluthra/followers",
        "following_url": "https://api.github.com/users/fizaaluthra/following{/other_user}",
        "gists_url": "https://api.github.com/users/fizaaluthra/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/fizaaluthra/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/fizaaluthra/subscriptions",
        "organizations_url": "https://api.github.com/users/fizaaluthra/orgs",
        "repos_url": "https://api.github.com/users/fizaaluthra/repos",
        "events_url": "https://api.github.com/users/fizaaluthra/events{/privacy}",
        "received_events_url": "https://api.github.com/users/fizaaluthra/received_events",
        "type": "User",
        "site_admin": false
      }
    ],
    "milestone": null,
    "comments": 1,
    "created_at": "2021-10-08T08:54:20Z",
    "updated_at": "2021-10-08T19:10:14Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "Not reproducible in postgres \r\n```\r\ndrop table if exists t0 cascade;\r\ndrop table if exists t1 cascade;\r\ndrop table if exists t3 cascade;\r\ndrop table if exists t4 cascade;\r\n\r\nCREATE TEMP TABLE IF NOT EXISTS t0(c0 money );\r\nCREATE TEMPORARY TABLE IF NOT EXISTS t1(c0 int4range ) ON COMMIT PRESERVE ROWS ;\r\nCREATE TABLE IF NOT EXISTS t3(c0 FLOAT , c1 money );\r\nCREATE TEMP TABLE t4(c0 REAL  DEFAULT (-1785271333) UNIQUE NOT NULL PRIMARY KEY);\r\nUPDATE t3 SET c0 = 0.2162403, c1 = (CAST(0.0502113 AS MONEY)) WHERE (((0.7910658)::MONEY)=((0.15695861)::MONEY));\r\nUPDATE t3 SET c0 = 1.31173064E8 WHERE ((lower('t>'))||('Th\\000omas'::bytea))~*version();\r\nSET CONSTRAINTS ALL IMMEDIATE;\r\nUNLISTEN *;\r\nRESET ALL;\r\nCREATE SEQUENCE IF NOT EXISTS seq AS integer INCREMENT -585657370 NO MAXVALUE CACHE 5801004885020422928;\r\nINSERT INTO t0(c0) VALUES((0.3528332)::MONEY);\r\nUPDATE t0 SET c0 = (0.7406399)::MONEY WHERE (((0.023219043)::MONEY) BETWEEN (CAST(0.19029781 AS MONEY)) AND (CAST(0.0984419 AS MONEY))) IS FALSE;\r\n```\r\n\r\nFails with IO Exception\r\nCut from logs\r\n```\r\n18 W1008 11:40:47.534945 268222464 client-internal.cc:1538] GetTableSchemaRpc(table_identifier: table_name: \"metrics\" namespace { name: \"system\" database_type: YQL_DATABASE_CQL }, num_attempts: 1) failed: Not found (yb/master/catalog_manager.cc:3859): Tabl\r\n 19 W1008 11:40:47.537119 254271488 metrics_snapshotter.cc:499] P 4840c47e33314eb4abbf4f95f0a2e8d7: Failed to snapshot metrics, code=Not found (yb/master/catalog_manager.cc:3859): Table system.metrics not found: OBJECT_NOT_FOUND (master error 3)\r\n 20 W1008 11:40:52.520640 253198336 net_util.cc:418] Time spent looking up canonical hostname for localhost MacBook-Pro-Dmitrii.local: real 5.002s  user 0.000s     sys 0.000s\r\n 21 W1008 11:45:44.958909 268222464 env.cc:93] Failed to get children /Users/dmitry/var/data/yb-data/tserver/data/rocksdb/table-000030af000030008000000000004010/tablet-29d9fc129d004b14aa3c6ba1a28ed56d/archive: IO error (yb/rocksdb/util/env_posix.cc:227): /U\r\n 22 W1008 11:45:44.959833 268222464 env.cc:93] Failed to get children /Users/dmitry/var/data/yb-data/tserver/data/rocksdb/table-000030af000030008000000000004010/tablet-29d9fc129d004b14aa3c6ba1a28ed56d.intents/archive: IO error (yb/rocksdb/util/env_posix.cc:\r\n 23 W1008 11:45:45.232976 268759040 client-internal.cc:1538] GetTableSchemaRpc(table_identifier: table_id: \"0000ffff00003000800000000000ffff\", num_attempts: 1) failed: Not found (yb/master/catalog_manager.cc:3880): Table with identifier 0000ffff000030008000\r\n 24 W1008 11:45:45.630885 268759040 env.cc:93] Failed to get children /Users/dmitry/var/data/yb-data/tserver/data/rocksdb/table-000030af000030008000000000004052/tablet-5f8e3b567a21479895b253e506c94fe9/archive: IO error (yb/rocksdb/util/env_posix.cc:227): /U\r\n 25 W1008 11:45:45.631343 268759040 env.cc:93] Failed to get children /Users/dmitry/var/data/yb-data/tserver/data/rocksdb/table-000030af000030008000000000004052/tablet-5f8e3b567a21479895b253e506c94fe9.intents/archive: IO error (yb/rocksdb/util/env_posix.cc:\r\n 26 W1008 11:45:45.805383 268759040 env.cc:93] Failed to get children /Users/dmitry/var/data/yb-data/tserver/data/rocksdb/table-000030af00003000800000000000405b/tablet-5d66ab7261d948e3a49fa8c992f23ed7/archive: IO error (yb/rocksdb/util/env_posix.cc:227): /U\r\n 27 W1008 11:45:45.805966 268759040 env.cc:93] Failed to get children /Users/dmitry/var/data/yb-data/tserver/data/rocksdb/table-000030af00003000800000000000405b/tablet-5d66ab7261d948e3a49fa8c992f23ed7.intents/archive: IO error (yb/rocksdb/util/env_posix.cc:\r\n 28 W1008 11:45:45.973568 268222464 env.cc:93] Failed to get children /Users/dmitry/var/data/yb-data/tserver/data/rocksdb/table-000030af000030008000000000004064/tablet-23d7496da5664c91b746d469601b395f/archive: IO error (yb/rocksdb/util/env_posix.cc:227): /U\r\n...\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/yugabyte/yugabyte-db/issues/10236/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/yugabyte/yugabyte-db/issues/10236/timeline",
    "performed_via_github_app": null
  }
]